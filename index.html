<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>For Ria ❤️</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  height: 100svh;
  background: linear-gradient(135deg, #ff9ecf, #ffcce6);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Playfair Display', serif;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
}

/* Envelope */
.envelope {
  width: 85vw;
  max-width: 380px;
  aspect-ratio: 16 / 10;
  position: relative;
  background: #fff0f5;
  border-radius: 12px;
  cursor: pointer;
  transform-style: preserve-3d;
  transition: transform 0.9s cubic-bezier(.4,0,.2,1);
  box-shadow: 0 25px 50px rgba(0,0,0,0.45);
}

.envelope.open {
  transform: scale(1.05);
}

.flap {
  position: absolute;
  inset: 0;
  background: #ffd6e3;
  clip-path: polygon(0 0, 100% 0, 50% 55%);
  transform-origin: top;
  transition: transform 0.8s cubic-bezier(.4,0,.2,1);
  z-index: 2;
}

.envelope.open .flap {
  transform: rotateX(-160deg);
}

/* Letter */
.letter {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.96);
  width: 92%;
  height: 90%;
  background: #ffffff;
  padding: 28px 22px;
  border-radius: 10px;
  opacity: 0;
  transition: all 0.8s cubic-bezier(.4,0,.2,1);
  z-index: 1;
  overflow-y: auto;
}

.letter.show {
  opacity: 1;
  transform: translate(-50%, -75%) scale(1);
  z-index: 3;
}

/* Content */
.content {
  font-size: 1.05rem;
  line-height: 1.7;
  color: #4a2b35;
  white-space: pre-line;
}

/* Close */
.close {
  position: absolute;
  top: 8px;
  right: 12px;
  background: rgba(0,0,0,0.05);
  border: none;
  border-radius: 50%;
  width: 34px;
  height: 34px;
  font-size: 18px;
  cursor: pointer;
}

/* Mobile text sizing */
@media (max-width: 480px) {
  .content {
    font-size: 1.1rem;
  }
}
</style>
</head>

<body>

<audio id="bgMusic" preload="auto">
  <source src="love-music.mp3" type="audio/mpeg">
</audio>

<div class="envelope" id="envelope">
  <div class="flap"></div>

  <div class="letter" id="letter">
    <button class="close" onclick="closeLetter(event)">×</button>
    <div class="content" id="text"></div>
  </div>
</div>

<script>

const envelope = document.getElementById('envelope');
const letter = document.getElementById('letter');
const music = document.getElementById('bgMusic');
const textDiv = document.getElementById('text');

let typingStarted = false;
let index = 0;
let typingInterval;

const message = `Heyy Ria,

I don’t think there’s ever a perfect way to start something like this, especially when it’s about you. Every time I try to put my feelings into words, they somehow feel smaller than what I actually feel inside.

It’s funny how distance works. We’re miles apart, yet you feel closer to me than most people who stand right next to me every day. Somehow, you’ve made your place in my heart so naturally that it doesn’t even feel like a choice anymore — it just feels right.

There are moments when I catch myself smiling at my phone like an idiot, and it’s almost always because of you. The way you talk, the little things you say, even your random moods — I adore all of it more than you probably realize.

I think what makes you so special isn’t just how you look or how you laugh. It’s the way you care. The way you think. The way you try. You have this quiet strength and softness at the same time, and it’s honestly one of the most beautiful combinations I’ve ever seen in a person.

Some nights I imagine what it would feel like to just sit next to you — no phones, no distance — just us existing in the same space. I imagine holding your hand, hearing your voice without a speaker between us, seeing your expressions in real time.

You’ve become such an important part of my life without even trying to. You matter more than you know.

What I feel for you isn’t temporary. It isn’t something casual. It’s calm. It’s deep. It’s steady.

You’re not just someone I like.
You’re someone I genuinely care about.
Someone I want in my future.

And I’ll never get tired of reminding you how much you mean to me. ❤️`;

envelope.addEventListener('click', () => {
  if (!envelope.classList.contains('open')) {
    envelope.classList.add('open');
    letter.classList.add('show');
  }
});

letter.addEventListener('click', () => {
  if (!typingStarted) {
    typingStarted = true;
    music.volume = 0.4;
    music.play().catch(() => {});
    typeWriter();
  }
});

function typeWriter() {
  typingInterval = setInterval(() => {
    if (index < message.length) {
      textDiv.textContent += message.charAt(index);
      index++;
    } else {
      clearInterval(typingInterval);
    }
  }, 35);
}

function closeLetter(e) {
  e.stopPropagation();
  letter.classList.remove('show');
  envelope.classList.remove('open');
  music.pause();
  music.currentTime = 0;

  clearInterval(typingInterval);
  textDiv.textContent = "";
  typingStarted = false;
  index = 0;
}

</script>

</body>
</html>
