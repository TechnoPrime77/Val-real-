<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>For Ria ❤️</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  height: 100svh;
  background: linear-gradient(135deg, #3a0f1f, #7a1f3d, #b23a5f);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Playfair Display', serif;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
}

/* Floating hearts */
.heart {
  position: fixed;
  bottom: -10px;
  color: rgba(255,255,255,0.8);
  pointer-events: none;
  animation: floatUp linear infinite;
  z-index: 0;
}

@keyframes floatUp {
  to {
    transform: translateY(-120vh) scale(1.2);
    opacity: 0;
  }
}

/* Envelope */
.envelope {
  width: 85vw;
  max-width: 360px;
  aspect-ratio: 16 / 10;
  position: relative;
  background: #fff0f5;
  border-radius: 10px;
  cursor: pointer;
  transform-style: preserve-3d;
  transition: transform 0.9s cubic-bezier(.4,0,.2,1);
  box-shadow: 0 25px 50px rgba(0,0,0,0.45);
  z-index: 2;
}

.envelope.open {
  transform: scale(1.05);
}

.flap {
  position: absolute;
  inset: 0;
  background: #ffd6e3;
  clip-path: polygon(0 0, 100% 0, 50% 55%);
  transform-origin: top;
  transition: transform 0.8s cubic-bezier(.4,0,.2,1);
  z-index: 2;
}

.envelope.open .flap {
  transform: rotateX(-160deg);
}

/* Letter */
.letter {
  position: absolute;
  inset: 8px;
  background: #ffffff;
  padding: 25px 20px;
  border-radius: 8px;
  opacity: 0;
  transform: translateY(30px) scale(0.96);
  transition: all 0.8s cubic-bezier(.4,0,.2,1);
  z-index: 1;
  overflow-y: auto;
}

.envelope.open .letter {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Content */
.content {
  font-size: 1rem;
  line-height: 1.7;
  color: #4a2b35;
  white-space: pre-line;
}

/* Close button */
.close {
  position: absolute;
  bottom: 10px;
  right: 12px;
  background: rgba(0,0,0,0.05);
  border: none;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  font-size: 18px;
  cursor: pointer;
}

/* Hint */
.hint {
  position: absolute;
  bottom: -40px;
  width: 100%;
  text-align: center;
  color: rgba(255,255,255,0.85);
  font-size: 0.85rem;
}

/* Mobile tweak */
@media (max-width: 480px) {
  .content {
    font-size: 1.05rem;
  }
}
</style>
</head>

<body>

<audio id="bgMusic" preload="auto">
  <source src="love-music.mp3" type="audio/mpeg">
</audio>

<div class="envelope" id="envelope">
  <div class="flap"></div>

  <div class="letter" onclick="event.stopPropagation()">
    <button class="close" onclick="closeLetter(event)">×</button>
    <div class="content" id="text"></div>
  </div>

  <div class="hint">Tap gently ❤️</div>
</div>

<script>
const envelope = document.getElementById('envelope');
const music = document.getElementById('bgMusic');
const textDiv = document.getElementById('text');

let typingStarted = false;
let index = 0;
let typingInterval;

const message = `Heyy Ria,

I don’t think there’s ever a perfect way to start something like this, especially when it’s about you. Every time I try to put my feelings into words, they somehow feel smaller than what I actually feel inside.

It’s funny how distance works. We’re miles apart, yet you feel closer to me than most people who stand right next to me every day. Somehow, you’ve made your place in my heart so naturally that it doesn’t even feel like a choice anymore — it just feels right.

There are moments when I catch myself smiling at my phone because of you. The way you talk, the little things you say, even your random moods — I adore all of it.

You matter to me in a way that isn’t temporary. It’s calm. It’s deep. It’s steady.

You’re not just someone I like.
You’re someone I genuinely care about.
Someone I want in my future.

And I’ll never get tired of reminding you how much you mean to me. ❤️`;

envelope.addEventListener('click', () => {
  if (!envelope.classList.contains('open')) {
    envelope.classList.add('open');
    music.volume = 0.4;
    music.play().catch(() => {});
    if (!typingStarted) {
      typingStarted = true;
      typeWriter();
    }
  }
});

function typeWriter() {
  typingInterval = setInterval(() => {
    if (index < message.length) {
      textDiv.textContent += message.charAt(index);
      index++;
    } else {
      clearInterval(typingInterval);
    }
  }, 35);
}

function closeLetter(e) {
  e.stopPropagation();
  envelope.classList.remove('open');
  music.pause();
  music.currentTime = 0;

  clearInterval(typingInterval);
  textDiv.textContent = "";
  typingStarted = false;
  index = 0;
}

/* Floating hearts */
for (let i = 0; i < 30; i++) {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerHTML = "❤";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.animationDuration = (6 + Math.random() * 6) + "s";
  heart.style.opacity = Math.random();
  heart.style.fontSize = (12 + Math.random() * 14) + "px";
  document.body.appendChild(heart);
}
</script>

</body>
</html>
