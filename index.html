<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>For Ria ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  height: 100svh;
  background: linear-gradient(135deg, #3a0f1f, #7a1f3d, #b23a5f);
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: 'Playfair Display', serif;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
}

/* Floating hearts */
.heart {
  position: fixed;
  bottom: -10px;
  color: rgba(255,255,255,0.8);
  pointer-events: none;
  animation: floatUp linear infinite;
  z-index: 0;
}

@keyframes floatUp {
  to {
    transform: translateY(-120vh) scale(1.2);
    opacity: 0;
  }
}

/* Envelope */
.envelope {
  width: 85vw;
  max-width: 360px;
  aspect-ratio: 16 / 10;
  position: relative;
  background: #fff0f5;
  border-radius: 10px;
  cursor: pointer;
  transform-style: preserve-3d;
  transition: transform 0.9s cubic-bezier(.4,0,.2,1);
  box-shadow: 0 25px 50px rgba(0,0,0,0.45);
  z-index: 2;
}

.envelope.open {
  transform: scale(1.05);
}

.flap {
  position: absolute;
  inset: 0;
  background: #ffd6e3;
  clip-path: polygon(0 0, 100% 0, 50% 55%);
  transform-origin: top;
  transition: transform 0.8s cubic-bezier(.4,0,.2,1);
  z-index: 2;
}

.envelope.open .flap {
  transform: rotateX(-160deg);
}

/* Letter */
.letter {
  position: absolute;
  inset: 8px;
  background: #ffffff;
  padding: 25px 20px;
  border-radius: 8px;
  opacity: 0;
  transform: translateY(30px) scale(0.96);
  transition: all 0.8s cubic-bezier(.4,0,.2,1);
  z-index: 1;
  overflow-y: auto;
}

.envelope.open .letter {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Popped out state */
.letter.popout {
  transform: translateY(-40px) scale(1.05);
  z-index: 5;
}

/* Content */
.content {
  font-size: 1rem;
  line-height: 1.7;
  color: #4a2b35;
  white-space: pre-line;
}

/* Go Back button */
.go-back {
  display: none;
  margin-top: 20px;
  text-align: center;
}

.go-back a {
  background: #ffd6e3;
  color: #b23a5f;
  padding: 8px 14px;
  text-decoration: none;
  border-radius: 6px;
  font-weight: 600;
  font-size: 1rem;
}

/* Close button */
.close {
  position: absolute;
  bottom: 10px;
  right: 12px;
  background: rgba(0,0,0,0.05);
  border: none;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  font-size: 18px;
  cursor: pointer;
}

/* Hint */
.hint {
  position: absolute;
  bottom: -40px;
  width: 100%;
  text-align: center;
  color: rgba(255,255,255,0.85);
  font-size: 0.85rem;
}
</style>
</head>

<body>

<audio id="bgMusic" preload="auto">
  <source src="love-music.mp3" type="audio/mpeg">
</audio>

<div class="envelope" id="envelope">
  <div class="flap"></div>

  <div class="letter" id="letter">
    <button class="close" onclick="closeLetter(event)">√ó</button>
    <div class="content" id="text"></div>

    <div class="go-back" id="goBackBtn">
      <a href="#" id="backLink" target="_blank">Go Back</a>
    </div>
  </div>

  <div class="hint">Tap the letter ‚ù§Ô∏è</div>
</div>

<script>
const envelope = document.getElementById('envelope');
const letter = document.getElementById('letter');
const music = document.getElementById('bgMusic');
const textDiv = document.getElementById('text');
const goBackBtn = document.getElementById('goBackBtn');
const backLink = document.getElementById('backLink');

let typingStarted = false;
let index = 0;
let typingInterval;

/* üîó SET YOUR LINK HERE */
backLink.href = "http://iloveyouria.carrd.co/#five";

const message = `Hey Ria,

Sometimes I think about all the little moments we‚Äôve shared, and I realize how much brighter my life feels with you in it. Even the tiniest things about you‚Äîyour laugh, your smile,
the way you tease me‚Äîstay with me all day.

Do you remember the day you made me act gay just so I could hear you say ‚ÄúI love you‚Äù? üíÄ
I didn‚Äôt even know I could talk like that, but I had so much fun, and I still get reminded of that day whenever you send me those reels.
Moments like that‚Äîsilly and unexpected are the ones I treasure the most.

Ria, I love your laugh, your smile, and even how you‚Äôve asked me why I call when I have nothing to say. 
The truth? I don‚Äôt need a reason. I just love hearing your voice, feeling close to you even when we‚Äôre apart, and I miss every little thing about you. 
 
In the end, you‚Äôre not just my partner‚Ä¶ you‚Äôre my home, my rest, my heart, my favorite moment of every day, and the place I always want to be.

All I want is you. No matter who comes or goes, no matter what anyone says, I‚Äôll never stop loving or caring for you.

I love you a lot`;


/* Open envelope */
envelope.addEventListener('click', () => {
  if (!envelope.classList.contains('open')) {
    envelope.classList.add('open');
    music.volume = 0.4;
    music.play().catch(() => {});
    if (!typingStarted) {
      typingStarted = true;
      typeWriter();
    }
  }
});

/* Toggle pop out */
letter.addEventListener('click', (e) => {
  e.stopPropagation();
  letter.classList.toggle('popout');
});

/* Typing */
function typeWriter() {
  typingInterval = setInterval(() => {
    if (index < message.length) {
      textDiv.textContent += message.charAt(index);
      index++;
    } else {
      clearInterval(typingInterval);

      // Clean extra spaces/newlines
      textDiv.innerHTML = textDiv.innerHTML.trim();

      // Add signature + final line (no huge gaps)
      textDiv.innerHTML += `
        <div style="margin-top:8px; text-align:right; font-weight:600; line-height:1.4;">
          Aaron
        </div>
        <div style="margin-top:4px; text-align:center; font-size:20px; color:#ff4da6;">
          I love you so much ‚ô•
        </div>
      `;

      goBackBtn.style.display = "block";
    }
  }, 35);
}

/* Close */
function closeLetter(e) {
  e.stopPropagation();
  envelope.classList.remove('open');
  letter.classList.remove('popout');
  music.pause();
  music.currentTime = 0;

  clearInterval(typingInterval);
  textDiv.textContent = "";
  goBackBtn.style.display = "none";
  typingStarted = false;
  index = 0;
}

/* Floating hearts */
for (let i = 0; i < 30; i++) {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerHTML = "‚ù§";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.animationDuration = (6 + Math.random() * 6) + "s";
  heart.style.opacity = Math.random();
  heart.style.fontSize = (12 + Math.random() * 14) + "px";
  document.body.appendChild(heart);
}
</script>

</body>
</html>
